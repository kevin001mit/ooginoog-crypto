<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ooginoog Professional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --bg: #0f1115; --card: #181b21; --accent: #3b82f6; --text: #cfd8dc; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; }
        .card { background: var(--card); border: 1px solid #2a2f3a; border-radius: 8px; }
        .btn-tab { padding: 8px 16px; font-size: 13px; font-weight: 600; color: #64748b; cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.2s; }
        .btn-tab.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
        .verdict-box { background: rgba(59, 130, 246, 0.1); border-left: 4px solid var(--accent); }
        .news-item:hover { background: #232730; }
        /* Blink Animation for Live dot */
        @keyframes pulse-red { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
        .live-dot { width: 8px; height: 8px; background: #ef4444; border-radius: 50%; display: inline-block; animation: pulse-red 2s infinite; }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <header class="h-14 border-b border-gray-800 flex items-center justify-between px-6 bg-[#13151a]">
        <div class="flex items-center gap-2">
            <h1 class="text-xl font-bold tracking-tight text-white">OOGINOOG<span class="text-blue-500">PRO</span></h1>
            <span class="text-[10px] bg-blue-900 text-blue-200 px-2 py-0.5 rounded uppercase font-bold">Terminal</span>
        </div>
        <div class="flex gap-6 text-xs font-mono text-gray-400">
            <span>BTC: <span id="head-btc" class="text-white">...</span></span>
            <span>ETH: <span id="head-eth" class="text-white">...</span></span>
            <span>GAS: <span class="text-yellow-500">12 Gwei</span></span>
            <div class="flex items-center gap-2 text-green-400"><div class="live-dot"></div> CONNECTED</div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        
        <aside class="w-80 border-r border-gray-800 flex flex-col overflow-y-auto custom-scrollbar">
            
            <div class="p-5 border-b border-gray-800">
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-xs font-bold text-gray-500 uppercase">AI Sentiment Analysis</h2>
                    <span id="ai-time" class="text-[10px] text-gray-600">UPDATING</span>
                </div>
                <div class="verdict-box p-4 rounded mb-3">
                    <div class="text-xs text-blue-400 font-bold mb-1">VERDICT</div>
                    <div id="ai-verdict" class="text-2xl font-black text-white tracking-widest">LOADING</div>
                </div>
                <p id="ai-reason" class="text-xs leading-relaxed text-gray-400">
                    Connecting to Gemini Neural Net...
                </p>
            </div>

            <div class="p-5 border-b border-gray-800">
                <h2 class="text-xs font-bold text-gray-500 uppercase mb-4">Market Emotion</h2>
                <img src="https://alternative.me/crypto/fear-and-greed-index.png" alt="Fear/Greed" class="w-full rounded opacity-90 hover:opacity-100 transition">
            </div>

            <div class="p-5">
                <h2 class="text-xs font-bold text-gray-500 uppercase mb-3">Professional Tools</h2>
                <a href="YOUR_LEDGER_LINK" target="_blank" class="block bg-gradient-to-r from-gray-800 to-gray-900 p-3 rounded border border-gray-700 hover:border-blue-500 transition group">
                    <div class="flex items-center gap-3">
                        <div class="bg-blue-600 w-8 h-8 rounded flex items-center justify-center text-white font-bold text-xs">L</div>
                        <div>
                            <div class="text-sm font-bold text-gray-200 group-hover:text-blue-400">Ledger Nano X</div>
                            <div class="text-[10px] text-gray-500">Hardware Security</div>
                        </div>
                    </div>
                </a>
            </div>
        </aside>

        <main class="flex-1 flex flex-col bg-[#0b0e11]">
            <div class="h-12 border-b border-gray-800 flex items-center px-4 gap-2">
                <button onclick="loadChart('BINANCE:BTCUSDT', this)" class="btn-tab active">BTC/USDT</button>
                <button onclick="loadChart('BINANCE:ETHUSDT', this)" class="btn-tab">ETH/USDT</button>
                <button onclick="loadChart('BINANCE:SOLUSDT', this)" class="btn-tab">SOL/USDT</button>
            </div>
            
            <div class="flex-1 relative" id="chart-container">
                <div id="tv_chart_container" class="absolute inset-0"></div>
            </div>
        </main>

        <aside class="w-72 border-l border-gray-800 bg-[#111318] flex flex-col">
            <div class="p-4 border-b border-gray-800 bg-[#161920]">
                <h2 class="text-xs font-bold text-gray-400 uppercase">Live News Wire</h2>
            </div>
            <div id="news-feed" class="flex-1 overflow-y-auto p-2 space-y-1">
                <div class="text-xs text-center text-gray-600 mt-10">Waiting for Satellite Feed...</div>
            </div>
        </aside>

    </div>

    <script>
        // 1. Initialize TradingView Chart
        let widget;
        function loadChart(symbol, btn) {
            // Update Tab UI
            document.querySelectorAll('.btn-tab').forEach(b => b.classList.remove('active'));
            if(btn) btn.classList.add('active');

            // Load Chart
            if (widget) {
                widget.symbolInterval();
                widget = new TradingView.widget({
                    "autosize": true,
                    "symbol": symbol,
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "hide_side_toolbar": false,
                    "allow_symbol_change": false,
                    "container_id": "tv_chart_container"
                });
            } else {
                widget = new TradingView.widget({
                    "autosize": true,
                    "symbol": symbol,
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "en",
                    "container_id": "tv_chart_container"
                });
            }
        }

        // 2. Load Your AI JSON Data
        async function fetchIntelligence() {
            try {
                const res = await fetch('sentiment.json?t=' + Date.now());
                const data = await res.json();

                // Update Verdict
                const verdictEl = document.getElementById('ai-verdict');
                verdictEl.innerText = data.verdict;
                if(data.verdict === 'BUY') verdictEl.className = "text-2xl font-black text-green-500 tracking-widest";
                if(data.verdict === 'SELL') verdictEl.className = "text-2xl font-black text-red-500 tracking-widest";

                document.getElementById('ai-reason').innerText = data.reason;
                document.getElementById('ai-time').innerText = data.date;

                // Update News Feed
                const newsBox = document.getElementById('news-feed');
                newsBox.innerHTML = '';
                data.headlines.forEach((title, index) => {
                    const link = data.links ? data.links[index] : '#';
                    const html = `
                        <a href="${link}" target="_blank" class="block p-3 rounded hover:bg-[#1f232d] transition group border-b border-gray-800/50">
                            <div class="text-[10px] text-blue-500 font-bold mb-1 group-hover:text-blue-400">COINDESK</div>
                            <div class="text-xs text-gray-300 leading-snug group-hover:text-white">${title}</div>
                        </a>
                    `;
                    newsBox.innerHTML += html;
                });

            } catch (e) { console.log('Waiting for data...'); }
        }

        // 3. Load Header Prices
        async function fetchPrices() {
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd');
                const data = await res.json();
                document.getElementById('head-btc').innerText = "$" + data.bitcoin.usd.toLocaleString();
                document.getElementById('head-eth').innerText = "$" + data.ethereum.usd.toLocaleString();
            } catch (e) {}
        }

        // Init
        loadChart('BINANCE:BTCUSDT', null);
        fetchIntelligence();
        fetchPrices();
        
        // Auto-refresh
        setInterval(fetchIntelligence, 60000); 
    </script>
</body>
</html>
